<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PIN Verification</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;800&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#0c0a10;--gold:#d4a853;--rose:#e8836a;--surface:rgba(28,20,40,0.95);--border:rgba(212,168,83,0.2);--text:#f5f0e8;--muted:#7c6e5a;--grad:linear-gradient(135deg,#d4a853,#e8836a)}
body{font-family:'DM Sans',sans-serif;background:var(--bg);min-height:100vh;display:flex;align-items:center;justify-content:center;
  background-image:radial-gradient(ellipse at 20% 50%,rgba(212,168,83,0.08) 0%,transparent 60%),radial-gradient(ellipse at 80% 20%,rgba(232,131,106,0.07) 0%,transparent 50%);padding:20px}
.orb{position:fixed;border-radius:50%;filter:blur(80px);opacity:0.12;pointer-events:none}
.orb1{width:350px;height:350px;background:#d4a853;top:-80px;right:-80px;animation:f1 9s ease-in-out infinite}
.orb2{width:250px;height:250px;background:#a855f7;bottom:-60px;left:-60px;animation:f2 11s ease-in-out infinite}
@keyframes f1{0%,100%{transform:translate(0,0)}50%{transform:translate(-20px,20px)}}
@keyframes f2{0%,100%{transform:translate(0,0)}50%{transform:translate(20px,-20px)}}

.pin-card{
  background:var(--surface);border:1px solid var(--border);border-radius:28px;
  padding:48px 36px;width:100%;max-width:380px;
  backdrop-filter:blur(20px);box-shadow:0 32px 80px rgba(0,0,0,0.5);
  animation:cardIn 0.5s cubic-bezier(0.34,1.56,0.64,1);text-align:center;position:relative;overflow:hidden;
}
@keyframes cardIn{from{opacity:0;transform:scale(0.9)}to{opacity:1;transform:scale(1)}}
.card-shine{position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(212,168,83,0.5),transparent)}

.avatar{
  width:68px;height:68px;border-radius:50%;
  background:linear-gradient(135deg,rgba(212,168,83,0.2),rgba(232,131,106,0.15));
  border:2px solid rgba(212,168,83,0.3);
  display:inline-flex;align-items:center;justify-content:center;
  font-size:28px;margin-bottom:16px;
  box-shadow:0 8px 24px rgba(212,168,83,0.15);
}
.greeting{font-family:'Playfair Display',serif;font-size:22px;font-weight:700;margin-bottom:6px}
.email-show{font-size:13px;color:var(--muted);margin-bottom:32px}
.email-show span{color:var(--gold);font-weight:500}

/* PIN dots */
.pin-dots{display:flex;justify-content:center;gap:16px;margin-bottom:32px}
.dot{
  width:18px;height:18px;border-radius:50%;
  border:2px solid rgba(212,168,83,0.3);
  background:transparent;transition:all 0.25s cubic-bezier(0.34,1.56,0.64,1);
}
.dot.filled{background:var(--grad);border-color:transparent;box-shadow:0 0 12px rgba(212,168,83,0.5);transform:scale(1.1)}

/* Keypad */
.keypad{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;max-width:280px;margin:0 auto}
.key{
  padding:18px;border-radius:16px;
  background:rgba(255,255,255,0.04);
  border:1px solid rgba(255,255,255,0.07);
  color:var(--text);font-size:20px;font-weight:600;font-family:'DM Sans',sans-serif;
  cursor:pointer;transition:all 0.15s;
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  user-select:none;-webkit-tap-highlight-color:transparent;
}
.key:hover{background:rgba(212,168,83,0.1);border-color:rgba(212,168,83,0.25);transform:scale(1.03)}
.key:active{transform:scale(0.95);background:rgba(212,168,83,0.2)}
.key-sub{font-size:8px;color:var(--muted);letter-spacing:1px;font-weight:500;margin-top:2px}
.key-del{font-size:16px}
.key-empty{visibility:hidden}

.error-msg{
  background:rgba(248,113,113,0.1);border:1px solid rgba(248,113,113,0.25);
  border-radius:10px;padding:11px;color:#f87171;font-size:12px;
  margin-top:16px;display:none;animation:shake 0.3s ease;
}
@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-6px)}75%{transform:translateX(6px)}}

.back-link{margin-top:20px;font-size:12px;color:var(--muted);cursor:pointer}
.back-link:hover{color:var(--gold)}
</style>
</head>
<body>
<div class="orb orb1"></div>
<div class="orb orb2"></div>

<div class="pin-card">
  <div class="card-shine"></div>
  <div class="avatar">üë§</div>
  <div class="greeting">Welcome back</div>
  <div class="email-show">Signed in as <span id="emailShow">manager</span></div>

  <div class="pin-dots" id="pinDots">
    <div class="dot" id="d0"></div>
    <div class="dot" id="d1"></div>
    <div class="dot" id="d2"></div>
    <div class="dot" id="d3"></div>
  </div>

  <div class="keypad" id="keypad">
    <div class="key" onclick="pressKey('1')">1<span class="key-sub"></span></div>
    <div class="key" onclick="pressKey('2')">2<span class="key-sub">ABC</span></div>
    <div class="key" onclick="pressKey('3')">3<span class="key-sub">DEF</span></div>
    <div class="key" onclick="pressKey('4')">4<span class="key-sub">GHI</span></div>
    <div class="key" onclick="pressKey('5')">5<span class="key-sub">JKL</span></div>
    <div class="key" onclick="pressKey('6')">6<span class="key-sub">MNO</span></div>
    <div class="key" onclick="pressKey('7')">7<span class="key-sub">PQRS</span></div>
    <div class="key" onclick="pressKey('8')">8<span class="key-sub">TUV</span></div>
    <div class="key" onclick="pressKey('9')">9<span class="key-sub">WXYZ</span></div>
    <div class="key key-empty"></div>
    <div class="key" onclick="pressKey('0')">0</div>
    <div class="key key-del" onclick="deleteKey()">‚å´</div>
  </div>

  <div class="error-msg" id="errorMsg">Incorrect PIN. Please try again.</div>
  <div class="back-link" onclick="logout()">‚Üê Sign in with different account</div>
</div>

<script>
if(localStorage.getItem('isLoggedIn')!=='true') window.location.href='index.html';
var email = localStorage.getItem('managerEmail')||'';
document.getElementById('emailShow').textContent = email || 'manager';

var pin = '';
var savedPin = localStorage.getItem('managerPin') || '1234';

function pressKey(k){
  if(pin.length >= 4) return;
  pin += k;
  updateDots();
  if(pin.length === 4) setTimeout(verify, 200);
}

function deleteKey(){
  pin = pin.slice(0,-1);
  updateDots();
}

function updateDots(){
  for(var i=0;i<4;i++){
    var dot = document.getElementById('d'+i);
    dot.className = 'dot' + (i < pin.length ? ' filled' : '');
  }
}

function verify(){
  if(pin === savedPin){
    sessionStorage.setItem('pinVerified','true');
    window.location.href='dashboard.html';
  } else {
    var el = document.getElementById('errorMsg');
    el.style.display='block';
    setTimeout(function(){el.style.display='none'; pin=''; updateDots();}, 1500);
  }
}

function logout(){
  localStorage.removeItem('isLoggedIn');
  sessionStorage.clear();
  window.location.href='index.html';
}
</script>
</body>
</html>
